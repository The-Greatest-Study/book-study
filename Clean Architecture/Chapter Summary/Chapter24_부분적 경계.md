# 24장 부분적 경계

아키텍처 경계를 완벽하게 만드는 데는 비용이 많이 든다.

부분적 경계 partial boundary 를 구현하는 3가지 방법을 소개한다.

## 마지막 단계를 건너뛰기

부분적 경계를 생성하는 방법 하나는 독립적으로 컴파일 하고 배포할 수 있는 컴포넌트를 만들기 위한 작업은 모두 수행한 후, 단일 컴포넌트에 그대로 모아만 두는 것이다.

**장점**
- 다수의 컴포넌트를 관리하는 작업은 하지 않아도 된다.
- 추적을 위한 버전 번호도 없으며, 배포 관리 부담도 없다.

**단점**
- 완벽한 경계를 만들 때 만큼의 코드량과 사전 설계가 필요하다.

## 전략 Strategy 패턴

실행 중에 알고리즘을 선택 가능

**장점**
- 공통 로직이 부모 클래스에 있지 않고 Context 라는 별도의 클래스에 존재하기 때문에 구현체들에 대한 영향도가 적다.
- Context 가 Strategy 라는 인터페이스를 의존하고 있기 때문에 구현체를 갈아끼우기 쉽다.

**단점**
- 로직이 늘어날 때마다 구현체 클래스가 늘어난다.
- Context 와 Strategy 를 한번 조립하면 전략을 변경하기 힘들다.

## 퍼사드 Facade 패턴

경계는 Facade 클래스로만 간단히 정의된다.

Facade 클래스에는 모든 서비스 클래스를 메서드 형태로 정의하고, 서비스 호출이 발생하면 해당 서비스 클래스로 호출을 전달한다. 클라이언트는 이들 서비스 클래스에 직접 접근할 수 없다.

**단점**
Client가 이 모든 서비스 클래스에 대해 추이 종속성을 가지게 된다.

## 결론

아키텍처 경계가 언제, 어디에 존재해야 할지, 그리고 그 경계를 완벽하게 구현할지 아니면 부분적으로 구현할지를 결정하는 일 또한 아키텍트의 역할이다.
