# 28장 테스트 경계

## 시스템 컴포넌트인 테스트

테스트는 세부적이며 구체적인 것으로 의존성은 항상 테스트 바깥쪽 원으로 생각할 수 있다.

또한 테스트는 독립적으로 배포 가능하다.

**테스트는 시스템 컴포넌트 중에서 가장 고립되어 있다.**

## 테스트를 고려한 설계

테스트가 시스템의 설계와 잘 통합되지 않으면, 테스트는 깨지기 쉬워지고, 시스템은 뻣뻣해져서 변경하기가 어려워진다.

시스템의 공통 컴포넌트가 변경되면 수백, 수천 개의 테스트가 망가진다. (Fragile Tests Problem, 깨지기 쉬운 테스트 문제)

**변동성이 있는 것에 의존하지 말라.** (시스템과 테스트를 설계할 때, GUI를 사용하지 않고 업무 규칙을 테스트할 수 있게 해야 한다.)

## 테스트 API

테스트 API는 테스트 구조를 애플리케이션 구조로부터 결합을 분리하는 게 목표다.

### 구조적 결합

테스트 결합 중 가장 강하며, 가장 은밀하게 퍼져 나가는 유형이 구조적 결합이다.

테스트 API의 역할은 애플리케이션의 구조를 테스트로부터 숨기는 데 있다.

### 보안

테스트 API가 지닌 강력한 힘을 운영 시스템에 배포하면 위험에 처할 수 있다.

테스트 API 자체와 테스트 API 중 위험한 부분의 구현부는 독립적으로 배포할 수 있는 컴포넌트로 분리해야 한다.

## 결론

테스트는 시스템의 일부다.
