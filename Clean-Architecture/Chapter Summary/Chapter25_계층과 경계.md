# 25장 계층과 경계

> 정말 3가지(UI, 업무규칙, 데이터베이스) 경계만으로 시스템이 구성이 될까?

## 움퍼스 사냥 게임

- 텍스트 기반 UI
- 게임규칙과 UI를 분리 -> 다양한 언어로 발매하기 위함
  > > 게임 규칙이 다양한 종류의 데이터 저장소에 대해 알지 않도록 의존성이 적절한 방향을 가리키게 만들어야 한다.

## 클린 아키텍처?

> 위의 예제에서 정말 중요한 아키텍처 경계를 모두 발견했는가?

- UI가 언어의 유일한 변경 축이 아닐 수 있고 이외 개발의 다양한 가능성 존재.
- 추상 컴포넌트들에서 상위 컴포넌트로 진행될 때 다형적 Boundary 인터페이스에 의해 정의
- 데이터 흐름을 생각하여 구조를 배치한다.

## 흐름 횡단하기

- 시스템이 복잡해질수록 컴포넌트 구조는 더 많은 흐름을 갖게 될 것이다.

## 흐름 분리하기

> 모든 흐름이 상단의 단일 컴포넌트에서 만나는 건가..?

- 저수준의 정책에서 고수준의 정책으로 관리의 책임이 확대된다.
- 추가로 예시에서 마이크로서비스 단위까지 추가하면 네트워크로 인해 또 새로운 경계를 만날 수 있다.

## 결론

- 아키텍처 경계는 어디에나 존재한다.
- 이러한 경계를 제대로 구현하려면 비용이 많이 든다.
- 프로젝트 초반에는 시스템의 발전에 따라 잘 관찰해야 한다.
- 결정된 사항을 자주 검토한다.
