# 반복자 패턴 (Iterator Pattern)

컬렉션의 구현 방법을 노출하지 않으면서 집합체 내의 모든 항목에 접근하는 방법을 제공하는 패턴

### 디자인 원칙 - 단일 역할 원칙

**어떤 클래스가 바뀌는 이유는 하나뿐이어야 한다.**

코드를 변경하다 보면 온갖 문제가 생길 수 있으므로 최대한 피해야 한다. 코드를 변경할 만한 이유가 2가지나 되면 그만큼 그 클래스를 나중에 고쳐야 할 가능성이 커지며 디자인에 있어서 2가지 부분에 영향이 미치게 된다.

⇒ 하나의 역할은 하나의 클래스에서만 맡아야 한다.

### 응집도 (cohesion)

한 클래스 또는 모듈이 특정 목적이나 역할을 얼마나 일관되게 지원하는지를 나타내는 척도

- 어떤 모듈이나 클래스의 응집도가 높다 = 서로 연관된 기능이 묶여 있다
- 어떤 모듈이나 클래스의 응집도가 낮다 = 서로 상관 없는 기능들이 묶여 있다
- 단일 역할 원칙에서만 쓰이는 용어는 아니고, 좀 더 광범위한 용도로 쓰이는 용어
- 하지만 단일 역할 원칙과 응집도는 서로 밀접하게 연관되어 있다. 이 원칙을 잘 따르는 클래스는 2개 이상의 역할을 맡고 있는 클래스에 비해 응집도가 높고, 관리하기도 쉽다.

### JAVA에서의 for문의 종류

[[Java] for문의 종류 - for, 향상된 for, forEach()](https://backendcode.tistory.com/221)

[For Each는 For보다 얼마나 향상되었을까?](https://jinyoungchoi95.tistory.com/15)

# 컴포지트 패턴

객체를 트리구조로 구성해서 부분-전체 계층 구조를 구현한다. 컴포지트 패턴을 사용하면 클라이언트에서 개별 객체와 복합 객체를 똑같은 방법으로 다룰 수 있다.

⇒ 단일 역할 원칙을 깨는 대신 투명성을 확보하는 패턴

⇒ 클라이언트를 단순화 할 수 있다는 장점이 있다.

### 부분-전체 계층 구조 (part-whole hierarchy)

부분들이 계층을 이루고 있지만 모든 부분을 묶어서 전체로 다룰 수 있는 구조

### 투명성 (transparency)

Component 인터페이스에 자식들을 관리하는 기능과 잎으로써의 기능을 전부 넣어서 클라이언트가 복합 객체와 잎을 똑같은 방식으로 처리할 수 있게 되는 효과

[투명성 관련해서 참고한 URL](http://sunphiz.me/wp/archives/3288)

> 디자인 패턴 공부를 하면 투명성(transparency)이란 단어를 만난다. 이 단어에 대한 설명은 아무리 읽어도 쉽게 와닿지 않는데, 아마도 번역이 부적절하기 때문이라 생각한다.
> 
> transparency는 컴포지트 패턴에서 같은 부모를 상속받은 객체 컬렉션과 개별 객체 두 클래스 중 한 쪽에는 불필요한 메소드가 있을 때 이를 구현할 필요가 있는지 설명하는 과정에서 언급된다. 구현하는 경우 부모 클래스만 이해하면 자식 클래스를 일일이 살펴보지 않고도 사용할 수 있어 transparent하다고 한다.
> 
> 사전에서 transparent(cy)를 찾아보면 ‘투명한’이란 뜻 외에 ‘명료한, 명쾌한, 솔직한’이란 뜻도 있다. 위 장점에 대한 설명으로는 이해가 쉽다, 명료하다는 말이 적절해 보인다. 부모 클래스를 이해한 것으로 하위 클래스도 쉽게 이해할 수 있다는 점을 가리키는 단어기 때문이다.
> 
> 최근에 일부 책이나 글은 투명성이 아닌 명료성으로 번역하고 있고, 나도 명료성이 더 적절하다고 생각한다. 처음부터 그랬다면 더 좋았겠지만, tranparency란 단어의 개념이 명확치 않았을 때 잘못 번역된 것 같아 아쉽다.

### 구현할 때 고려할 점

- 자식의 순서 고려
- 복합 구조가 너무 복잡하거나, 복합 객체 전체를 도는 데 너무 많은 자원이 필요하다면 복합 노드를 캐싱해두면 도움이 된다.
