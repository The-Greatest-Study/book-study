# Chapter 9. 단위 테스트
단위 테스트란 자기 프로그램이 ‘돌아간다’는 사실만 확인하는 일회성 코드에 불과했다.

**애자일과 TDD(Test Driven Development)** 덕택에 단위 테스트를 자동화하는 프로그래머들이 이미 많아졌으며 점점 더 늘어나는 추세다.

테스트는 **유연성, 유지보수성, 재사용성**을 제공한다. 테스트 케이스가 있으면 변경이 쉬어지기 때문이다.

따라서 테스트 코드가 지저분하면 코드를 변경하는 능력이 떨어지며 코드 구조를 개선하는 능력도 떨어진다.

깨끗한 테스트 코드를 만들려면 **가독성**이 필요하다. 테스트 코드에서 가독성을 높이려면 **명료성, 단순성, 풍부한 표현력**이 필요하다.



## TDD 법칙 3가지
1. 실패하는 단위 테스트를 작성할 때까지 실제 코드를 작성하지 않는다.
2. 컴파일은 실패하지 않으면서 실행이 실패하는 정도로만 단위 테스트를 작성한다.
3. 현재 실패하는 테스트를 통과할 정도로만 실제 코드를 작성한다.



## F.I.R.S.T
깨끗한 테스트는 다음 다섯 가지 규칙을 따르는데, 각 규칙에서 첫 글자를 따오면 FIRST가 된다.

### Fast 빠르게
테스트는 빨라야 한다. 테스트는 빨리 돌아야 한다는 말이다.

### Independent 독립적으로
각 테스트는 서로 의존하면 안 된다. 각 테스트는 독립적으로 그리고 어떤 순서로 실행해도 괜찮아야 한다.

### Repeatable 반복가능하게
테스트는 어떤 환경에서도 반복 가능해야 한다.

### Self-Validating 자가검증하는
테스트는 bool 값으로 결과를 내야 한다. 성공 아니면 실패다.

### Timely 적시에
테스트는 적시에 작성해야 한다. 단위 테스트는 테스트 하려는 실제 코드를 구현하기 직전에 구현한다.



## 장을 마치며
사실 상 깨끗한 테스트 코드라는 주제는 책 한 권을 할애해도 모자랄 주제다. 테스트 코드는 실제 코드만큼이나 프로젝트 건강에 중요하다.

테스트 코드는 지속적으로 깨끗하게 관리하자. 표현력을 높이고 간결하게 정리하자. 테스트 API를 구현해 도메인 특화 언어(Domain Specific Language, DSL)를 만들자.
