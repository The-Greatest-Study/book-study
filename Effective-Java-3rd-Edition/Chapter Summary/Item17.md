# Item 17. 변경 가능성을 최소화 하라

## 불변 클래스
인스턴스의 내부 값을 수정할 수 없는 클래스

## 클래스를 불변으로 만들기 위한 5가지 규칙
- 객체의 상태를 변경하는 메서드(변경자)를 제공하지 않는다.
- 클래스를 확장할 수 없도록 한다.
- 모든 필드를 `final`로 선언한다.
- 모든 필드를 `private`으로 선언한다.
- 자신 외에는 내부의 가변 컴포넌트에 접근할 수 없도록 한다.

## 불변 객체의 장점
- 불변 객체는 자유롭게 공유할 수 있음은 물론, 불변 객체끼리는 내부 데이터를 공유할 수 있다.
- 객체를 만들 때 다른 불변 객체들을 구성요소로 사용하면 그 구조가 아무리 복잡하더라도 불변식을 유지하기 훨씬 수월하다.
- 불변 객체는 그 자체로 실패 원자성을 제공한다.

## 불변 객체의 단점
- 값이 다르면 반드시 독립된 객체로 만들어야 한다.

## 불변 클래스를 만드는 또 다른 설계 방법들
- 자신을 상속하지 못하게 하는 가장 쉬운 방법 : final 클래스로 선언하기
- 더 유연한 방법 : 모든 생성자를 private 혹은 package-private으로 만들고 public 정적 팩터리를 제공하기

## 정리
- 클래스는 꼭 필요한 경우가 아니라면 불변이어야 한다. 
- 불변으로 만들 수 없는 클래스라도 변경할 수 있는 부분을 최소한으로 줄이자. 
- 다른 합당한 이유가 없다면 모든 필드는 private final 이어야 한다. 
- 생성자는 불변식 설정이 모두 완료된, 초기화가 완벽히 끝난 상태의 객체를 생성해야 한다.